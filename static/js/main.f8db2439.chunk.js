(this.webpackJsonppie=this.webpackJsonppie||[]).push([[0],{21:function(e,t,n){e.exports=n(32)},26:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),u=n(7),l=(n(26),n(1));function i(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(u.b,{to:"/"},"Add"),r.a.createElement(u.b,{to:"/view"},"View"))}var m=n(6);function s(e){var t=e.data,n=t.startX,a=t.startY,c=t.endX,o=t.endY,u=t.largeArc,l=t.color,i=t.title,s=t.amount,f=function(e,t,n,a,r,c){var o=r?[-(e+n),-(t+a)]:[e+n,t+a],u=Object(m.a)(o,2),l=u[0],i=u[1],s=c/Math.sqrt(l*l+i*i);return[l*s,i*s]}(n,a,c,o,u,1.3),v=Object(m.a)(f,2),d=v[0],p=v[1],E=p>0?"0,0 ".concat(d,",").concat(p," ").concat(d,",").concat(p+.7):"0,0 ".concat(d,",").concat(p," ").concat(d,",").concat(p-.7),b=i?i.charAt(0).toUpperCase()+i.slice(1):s;return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M ".concat(n," ").concat(a," A 1 1 0 ").concat(u," 1 ").concat(c," ").concat(o," L 0 0"),key:n,fill:l},r.a.createElement("title",null,b)),r.a.createElement("polyline",{points:E,stroke:l,fill:"none",strokeWidth:"0.015"}),r.a.createElement("text",{x:d,y:p>0?p:p-.7,transform:"rotate(90 ".concat(d," ").concat(p>0?p:p-.7,") translate(0 -0.05)"),style:{color:"white",fontSize:.15}},b))}var f=n(11),v=n(20),d=r.a.createContext();function p(e){var t=Object(a.useState)([]),n=Object(m.a)(t,2),c=n[0],o=n[1];return r.a.createElement(d.Provider,{value:{items:c,editItem:function(e,t){var n=e.target,a=n.name,r=n.value,u=c.map((function(e){return e.id===t&&(e[a]=r),e}));o(u)},addItem:function(){var e=(new Date).valueOf(),t="rgb(".concat(250*Math.random(),", ").concat(250*Math.random(),", ").concat(250*Math.random(),")");o((function(n){return[].concat(Object(v.a)(n),[{title:"",amount:0,id:e,color:t}])}))},parseAmounts:function(){var e=c.map((function(e){return isNaN(parseInt(e.amount))?Object(f.a)(Object(f.a)({},e),{},{amount:0}):Object(f.a)(Object(f.a)({},e),{},{amount:Math.abs(parseInt(e.amount))})}));o(e)},removeItem:function(e){var t=c.filter((function(t){return t.id!==e}));o(t)}}},e.children)}function E(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),l=Object(m.a)(o,2),i=l[0],f=l[1],v=Object(a.useContext)(d),p=v.items,E=v.parseAmounts;Object(a.useEffect)((function(){E(),f(!0)}),[]),Object(a.useEffect)((function(){i&&b()}),[p,i]);var b=function(){var e=p.reduce((function(e,t){return e+parseInt(t.amount)}),0),t=0,n=p.map((function(n){var a=n.title,c=n.amount,o=n.color;if(0===c||"number"!==typeof c)return"";var u=h(t,e),l=Object(m.a)(u,2),i=l[0],f=l[1],v=h(t+=c,e),d=Object(m.a)(v,2),p=d[0],E=d[1],b=e/c>=2?0:1;return r.a.createElement(s,{key:o,data:{startX:i,startY:f,endX:p,endY:E,largeArc:b,color:o,title:a,amount:c}})}));c(n)},h=function(e,t){var n=e/t;return[Math.cos(2*Math.PI*n),Math.sin(2*Math.PI*n)]};return r.a.createElement("div",{className:"chart-page page"},r.a.createElement("h1",null,"Pie Chart"),n.length>0?r.a.createElement("svg",{viewBox:"-2 -2 4 4",style:{transform:"rotate(-90deg)"}},n):r.a.createElement(u.b,{to:"/"},r.a.createElement("div",{className:"empty-message"},"Please, input some data")))}function b(e){var t=e.title,n=e.amount,c=e.id,o=Object(a.useContext)(d),u=o.editItem,l=o.removeItem,i=function(e){var t=e.target,n=t.name,a=t.value;""===a&&e.target.classList.add("warning"),"amount"===n&&isNaN(parseInt(a,10))&&(e.target.value=0)};return r.a.createElement("form",null,r.a.createElement("input",{type:"text",maxLength:"20",name:"title",value:t,onChange:function(e){return u(e,c)},placeholder:"Title",onFocus:function(e){return e.target.classList.remove("warning")},onBlur:function(e){return i(e)}}),r.a.createElement("input",{type:"number",min:"0",name:"amount",value:n,onChange:function(e){return u(e,c)},placeholder:"Amount",onFocus:function(e){return e.target.classList.remove("warning")},onBlur:function(e){return i(e)}}),r.a.createElement("input",{className:"remove-button",type:"submit",value:"remove",onClick:function(e){return function(e,t){e.preventDefault(),l(t)}(e,c)}}))}function h(){var e=Object(a.useContext)(d),t=e.items,n=e.addItem,c=t.map((function(e,t){return r.a.createElement(b,{key:e.id,id:e.id,title:e.title,amount:e.amount})})).reverse();return r.a.createElement("div",{className:"form-page page"},r.a.createElement("h1",null,"Positions List"),r.a.createElement("button",{onClick:function(e){return n()}},"Add Position"),r.a.createElement("div",null,c.length>0?c:r.a.createElement("p",null,"The list is empty")))}var g=function(){return r.a.createElement(p,null,r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(h,null)),r.a.createElement(l.b,{path:"/view"},r.a.createElement(E,null)),r.a.createElement(l.a,{to:"/"}))))};o.a.render(r.a.createElement(u.a,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.f8db2439.chunk.js.map